<h4 id="chapter9-2-3">
  <p id="title2-3"><i class="fa fa-tags color-red"></i>　<strong class="remarkable">③ : まとめ</strong></p>
  <br>
  これまででログイン機能の設定をしました（とは言ってもほとんど「devise」がやってくれたんですが・・・）。
  <br>
  ここで内容のまとめをしたいと思います。
  <br><br>
  <strong>
  今回は
  <ul class="number_ul">
    <li>登録ログイン画面の設定</li>
    <li>どのページに会員制限をかけるかの設定</li>
    <li>通知の設定</li>
  </ul>
  の3つの設定をしました。
  <br><br>
  設定した内容は<a href="/codes/9" target="_blank">こちら</a>を参考にしてみて下さい
  </strong>
  <ul class="number_ul">
    <hr class="red-hr">
    <strong><li>登録ログイン画面の設定</li></strong>
    <br>
    <strong>登録画面（「<a href="http://0.0.0.0:3000/users/sign_up" target="_blank">0.0.0.0:3000/users/sign_up</a>」）</strong>は
    <br><br>
    <strong>「<u>app > views > devise > registrations</u>」</strong>フォルダにある<strong>「<u>new.html.erb</u>」</strong>ファイルに設定を加えます。
    <%= link_to image_tag("https://s3-ap-northeast-1.amazonaws.com/coffee-cup/images/page9/Chrome_users_sign_up_bootstrap.png",
                          :width => "90%",
                          :class => "hover_img textbook-title-img"),
                "https://s3-ap-northeast-1.amazonaws.com/coffee-cup/images/page9/Chrome_users_sign_up_bootstrap.png",
                :target => ["_blank"] %>
    <hr class="red-hr">
    <strong>ログイン画面（「<a href="/http://0.0.0.0:3000/users/sign_in" target="_blank">0.0.0.0:3000/users/sign_in</a>」）</strong>は
    <br><br>
    <strong>「<u>app > views > devise > sessions</u>」</strong>フォルダにある<strong>「<u>new.html.erb</u>」</strong>ファイルに設定を加えます。
    <%= link_to image_tag("https://s3-ap-northeast-1.amazonaws.com/coffee-cup/images/page9/Chrome_users_log_in_bootstrap.png",
                          :width => "90%",
                          :class => "hover_img textbook-title-img"),
                "https://s3-ap-northeast-1.amazonaws.com/coffee-cup/images/page9/Chrome_users_log_in_bootstrap.png",
                :target => ["_blank"] %>
    <hr class="red-hr">
    <strong><li>どのページに会員制限をするかの制限</li></strong>
    <br>
    ページ表示の制限は、<strong>制限したいページのデータベースの「controller」ファイルに下の設定を加える。</strong>
    <br><br>
<table class='highlight'>
<tr>
<td class='code-line-no text-center'>1
</td>
<td class='code-content'><span class='code-line'>before_action <span class='word-purple'>:authenticate_user!</span></span>
</td>
</tr>
</table>
    <br>
    これだと全てのページに制限がかかるので、制限をするページを指定することもできる。
    <br><br>
<table class='highlight'>
<tr>
<td class='code-line-no text-center'>1
</td>
<td class='code-content'><span class='code-line'>before_action <span class='word-purple'>:authenticate_user!</span>, <span class="remarkable-code"><span class='word-purple'>:only</span> => [<span class='word-purple'>:new</span>, <span class='word-purple'>:create</span>, <span class='word-purple'>:edit</span>, <span class='word-purple'>:update</span>, <span class='word-purple'>:destroy</span>]</span></span>
</td>
</tr>
</table>
    <hr class="red-hr">
    <strong><li>通知の設定</li></strong>
    <br>
    「devise」では、<strong><u>ログイン登録で通知を表示する設定</u></strong>もできる。
    <br>
    通知を設定するには下の設定を加える（上の方に表示したほうが見やすくていい）。
    <br><br>
<table class='highlight'>
<tr>
<td class='code-line-no text-center'>1
2
3
4
5
6
7
8
</td>
<td class='code-content'><span class='code-line'>&lt;% <span class="word-red">if</span> notice %&gt;</span>
<span class='code-line'>  &lt;<span class='word-red'>br</span>&gt;</span>
<span class='code-line'>  &lt;<span class='word-red'>p</span><span class='word-green'> class</span>=<span class='word-yellow'>"alert alert-success"</span>&gt;&lt;%= notice %&gt;&lt;/<span class='word-red'>p</span>&gt;</span>
<span class='code-line'>&lt;% <span class="word-red">end</span> %&gt;</span>
<span class='code-line'>&lt;% <span class="word-red">if</span> alert %&gt;</span>
<span class='code-line'>  &lt;<span class='word-red'>br</span>&gt;</span>
<span class='code-line'>  &lt;<span class='word-red'>p</span><span class='word-green'> class</span>=<span class='word-yellow'>"alert alert-danger"</span>&gt;&lt;%= alert %&gt;&lt;/<span class='word-red'>p</span>&gt;</span>
<span class='code-line'>&lt;% <span class="word-red">end</span> %&gt;</span>
</td>
</tr>
</table>
    <br>
    中身は
<pre>
&lt;% if 条件 %&gt;
  内容
&lt;% end %&gt;
</pre>
    を使って、通知かエラーの通知が来た時にその指定した内容を表示させています。
    <br><br>
    <strong>設定した内容は<a href="/codes/9" target="_blank">ここ</a>にまとめてあるので見てみて下さい</strong>
  </ul>
  <hr>
  <strong>
  ここまでお疲れさまでした。ページの内容もなんとなく会員制のページに近づいたのではないでしょうか？
  <hr class="red-hr">
  <i class="fa fa-star color-blue"></i>　「users」データベースの中身を詳しく見ればわかると思うのですが、
  <ul class="number_ul">
    <li>「family_name」</li>
    <li>「first_name」</li>
    <li>「self_introduction」</li>
  </ul>
  の枠組みにデータは入っていません。入力させていなかったんで当然ですね。
  <br><br>
  次はここにデータを入れるために、「users」データベースのページを作りましょう。
  </strong>
</h4>