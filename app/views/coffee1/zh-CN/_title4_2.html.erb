<h4 id="coffee-chapter1-4-2">
  <p id="title4-2"><i class="fa fa-tags color-red"></i>　<strong class="remarkable">② : 作会员资料库</strong></p>
  <br>
  <strong>
  接着作「devise」的会员资料库吧！
  </strong>
  <hr class="red-hr">
  在这里<strong><u>使用「devise」作「users」资料库</u></strong>。为了「devise」作「users」资料库，要在terminal打入下面的內容。
  <br>
  <small>※　详细<a href="/zh-CN/mugcups/9#title1-2" target="_blank"><strong>请参考这里</strong></a></small>
  <br><br>
  　<strong>terminal</strong>
  <br>
  <small>
    <i class="fa fa-windows color-blue"></i>　使用Windows的话，用「命令提示符」吧。
  </small>
<table class='highlight'>
<tr>
<td class='code-line-no text-center'>1
</td>
<td class='code-content'><span class='code-line'>rails g devise user</span>
</td>
</tr>
</table>
  <br>
  这样作好了<strong><u>作「devise」的「users」资料库的设定文件</u></strong>了。
  <br>
  <strong>「<u>db > migrate </u>」</strong>文件夾里的<strong>「<u>日子_devise_create_users.rb</u>」</strong>是这个设定文件。
  <br>
  在这个文件夾里追加下面的內容。
  <br><br>
  <i class="fa fa-file color-red"></i>　<strong>日子_devise_create_users.rb（追加第33〜36行）</strong>
  <br>
  <small>
    ※　<strong><u>用半母字母数字打入</u></strong>。一起点击<strong><u>「Command」跟「s」</u></strong>可以保存內容。
    <br>
    <i class="fa fa-windows color-blue"></i>　使用Windows的话，点击<strong><u>「ctrl」跟「s」</u></strong>可以保存內容。
  </small>
  <br><br>
<table class='highlight'>
<tr>
<td class='code-line-no text-center'>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
<strong class="color-red">33
34
35
36</strong>
37
38
39
40
41
42
43
44
45
46
</td>
<td class='code-content'><span class='code-line'><span class='word-red'>class </span>DeviseCreateUsers <span class="word-green">< ActiveRecord::Migration</span></span>
<span class='code-line'>  <span class='word-red'>def </span><span class='word-green'>change</span></span>
<span class='code-line'>    create_table(<span class='word-purple'>:users</span>)<span class='word-red'> do</span> |t|</span>
<span class='code-line'>      <span class='word-gray'>## Database authenticatable</span></span>
<span class='code-line'>      t.string <span class='word-purple'>:email</span>,              <span class='word-purple'>null:</span> <span class="word-purple">false</span>, <span class='word-purple'>default:</span> <span class='word-yellow'>""</span></span>
<span class='code-line'>      t.string <span class='word-purple'>:encrypted_password</span>, <span class='word-purple'>null:</span> <span class="word-purple">false</span>, <span class='word-purple'>default:</span> <span class='word-yellow'>""</span></span>
<span class='code-line'></span>
<span class='code-line'>      <span class='word-gray'>## Recoverable</span></span>
<span class='code-line'>      t.string   <span class='word-purple'>:reset_password_token</span></span>
<span class='code-line'>      t.datetime <span class='word-purple'>:reset_password_sent_at</span></span>
<span class='code-line'></span>
<span class='code-line'>      <span class='word-gray'>## Rememberable</span></span>
<span class='code-line'>      t.datetime <span class='word-purple'>:remember_created_at</span></span>
<span class='code-line'></span>
<span class='code-line'>      <span class='word-gray'>## Trackable</span></span>
<span class='code-line'>      t.integer  <span class='word-purple'>:sign_in_count</span>, <span class='word-purple'>default:</span> <span class="word-purple">0</span>, <span class='word-purple'>null:</span> <span class="word-purple">false</span></span>
<span class='code-line'>      t.datetime <span class='word-purple'>:current_sign_in_at</span></span>
<span class='code-line'>      t.datetime <span class='word-purple'>:last_sign_in_at</span></span>
<span class='code-line'>      t.string   <span class='word-purple'>:current_sign_in_ip</span></span>
<span class='code-line'>      t.string   <span class='word-purple'>:last_sign_in_ip</span></span>
<span class='code-line'></span>
<span class='code-line'>      <span class='word-gray'>## Confirmable</span></span>
<span class='code-line'>      <span class='word-gray'># t.string   :confirmation_token</span></span>
<span class='code-line'>      <span class='word-gray'># t.datetime :confirmed_at</span></span>
<span class='code-line'>      <span class='word-gray'># t.datetime :confirmation_sent_at</span></span>
<span class='code-line'>      <span class='word-gray'># t.string   :unconfirmed_email # Only if using reconfirmable</span></span>
<span class='code-line'></span>
<span class='code-line'>      <span class='word-gray'>## Lockable</span></span>
<span class='code-line'>      <span class='word-gray'># t.integer  :failed_attempts, default: 0, null: false # Only if lock strategy is :failed_attempts</span></span>
<span class='code-line'>      <span class='word-gray'># t.string   :unlock_token # Only if unlock strategy is :email or :both</span></span>
<span class='code-line'>      <span class='word-gray'># t.datetime :locked_at</span></span>
<span class='code-line'></span>
<span class='code-line remarkable-code'>      t.string     <span class='word-purple'>:first_name</span></span>
<span class='code-line remarkable-code'>      t.string     <span class='word-purple'>:family_name</span></span>
<span class='code-line remarkable-code'>      t.text       <span class='word-purple'>:self_introduction</span></span>
<span class='code-line remarkable-code'>      t.integer   <span class='word-purple'>:age</span></span>
<span class='code-line'></span>
<span class='code-line'>      t.timestamps <span class='word-purple'>null:</span> <span class="word-purple">false</span></span>
<span class='code-line'>    <span class='word-red'>end</span></span>
<span class='code-line'></span>
<span class='code-line'>    add_index <span class='word-purple'>:users</span>, <span class='word-purple'>:email</span>,                <span class='word-purple'>unique:</span> <span class="word-purple">true</span></span>
<span class='code-line'>    add_index <span class='word-purple'>:users</span>, <span class='word-purple'>:reset_password_token</span>, <span class='word-purple'>unique:</span> <span class="word-purple">true</span></span>
<span class='code-line'>    <span class='word-gray'># add_index :users, :confirmation_token,   unique: true</span></span>
<span class='code-line'>    <span class='word-gray'># add_index :users, :unlock_token,         unique: true</span></span>
<span class='code-line'>  <span class='word-red'>end</span></span>
<span class='code-line'><span class='word-red'>end</span></span>
</td>
</tr>
</table>
  <br>
  在这里追加了
  <strong>
  <ul class="number_ul">
    <li>放<u>短的文章</u>的「<u>first_name</u>」的框子</li>
    <li>放<u>短的文章</u>的「<u>family_name</u>」的框子</li>
    <li>放<u>长的文章</u>的「<u>self_introduction</u>」的框子</li>
    <li>放<u>数字的文章</u>的「<u>age</u>」的框子</li>
  </ul>
  </strong>
  这个四个框子。
  <hr class="red-hr">
  设定好了之后，作资料库吧！
  <br>
  <strong><u>为了用设定的文件作资料库</u></strong>，要在terminal上打入下面的命令。
  <br><br>
  　<strong>terminal</strong>
  <br>
  <small>
    <i class="fa fa-windows color-blue"></i>　使用Windows的话，用「命令提示符」。
  </small>
<table class='highlight'>
<tr>
<td class='code-line-no text-center'>1
</td>
<td class='code-content'><span class='code-line'>rake db:migrate</span>
</td>
</tr>
</table>
  <br>
  <small>
    <i class="fa fa-arrow-right"></i>　不动的话，在前面追加<strong>「bundle exec」</strong>，打入<strong>「bundle exec rake db:migrate」</strong>吧。
  </small>
  <br><br>
  这样作好资料库了！
  <br><br>
  作完之后，在<strong>Sequel Pro / SqliteBrowser看看<u>「message-app_development」的「users」资料库</u></strong>有沒有作好了沒！
  <br>
  <small>※　打开Sequel Pro的方法<a href="/zh-CN/mugcups/how_to_open#title3" target="_blank"><strong>请参考这里</strong></a>、打开SqliteBrowser的方法<a href="/zh-CN/mugcups/how_to_open#title4" target="_blank"><strong>请参考这里</strong></a>吧</small>
  <br><br>
  <u>接下來，装饰「devise」的注册・登入网页吧！</u>
</h4>