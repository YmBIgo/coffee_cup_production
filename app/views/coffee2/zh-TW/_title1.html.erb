<h2 class="textbook-section-title" id="title1"><strong>1 : 作資料庫</strong></h2>
<h4 id="coffee-chapter2-1">
  <strong>為了作留言版，首先作「messages」的資料庫吧！</strong>
  <br><br>
  <i class="fa fa-question-circle color-green"></i>　<strong>「message」資料庫的框子的設定文件要怎麼作呢？</strong>
  <br>
  <small>※　不知道的話，<a href="/zh-TW/mugcups/4#title1-2" target="_blank"><strong>請參考這裡</strong></a></small>
  <br><br>
  <input type="input" class="form-control input-code" placeholder="打入答案">
  <br>
  <strong>terminal</strong>
<table class='highlight'>
<tr>
<td class='code-line-no text-center'>1
</td>
<td class='code-content answer-code'><span class='code-line'>rails g model message</span>
</td>
</tr>
</table>
  <br>
  打入好了嗎？
  <br>
  <strong>「<u>db > migrate > 日子_create_messages.rb</u>」</strong>是在這裡作好的設定文件。
  <hr class="red-hr">
  接着在，作好的設定文件上追加內容吧！
  <br>
  在這裡會作跟下面一樣的資料庫。
  <br><br>
  <strong>messages</strong>
    <table class="table table-striped" style="width:50%">
      <thead style="font-size:0.8em">
        <tr class="active">
        <th>id</th>
        <th>content</th>
        <th>user_id</th>
        <th>receiver</th>
        <th>created_at</th>
        <th>updated_at</th>
      </tr>
    </thead>
    <tbody class="text-center">
      <tr>
      <td>192</td>
      <td>你好</td>
      <td>91</td>
      <td>20</td>
      <td style="font-size:11px;">2016-03-02 16:13:52</td>
      <td style="font-size:11px;">2016-03-02 16:13:52</td>
      </tr>
    </tbody>
  </table>
  <br>
  <strong>
  「<u>user_id</u>」裡放作訊息的會員號碼「<u>id</u>」，「<u>receiver</u>」裡放受到訊息的會員號碼「<u>id</u>」。
  <br>
  上面的資料是，<u>「id是91」的會員送給「id是20」的會員的「你好」的訊息</u>。
  <br><br>
  網絡聊天的網站裡面是，差不多這樣子保存資料。
  </strong>
  <hr class="red-hr">
  用Sublime Text打開，<strong>「<u>db > migrate > 日子_create_messages.rb</u>」</strong>之後，編輯內容吧！（打開Sublime Text的方法<a href="/zh-TW/mugcups/how_to_open#title1" target="_blank"><strong>請參考這裡</strong></a>）
  <br>
  <small>※　詳細<a href="/zh-TW/mugcups/4#title1-2" target="_blank"><strong>請參考這裡</strong></a></small>
  <br><br>
  <i class="fa fa-file color-red"></i>　<strong>日子_create_messages.rb（追加第5〜7行）</strong>
  <br>
  <small>
    ※　<strong><u>用半母字母數字打入</u></strong>。一起點擊<strong><u>「Command」跟「s」</u></strong>可以保存內容。
    <br>
    <i class="fa fa-windows color-blue"></i>　使用Windows的話，點擊<strong><u>「ctrl」跟「s」</u></strong>可以保存內容。
  </small>
  <br><br>
<table class='highlight'>
<tr>
<td class='code-line-no text-center'>1
2
3
4
<strong class="color-red">5
6
7</strong>
8
9
10
11
12
</td>
<td class='code-content'><span class='code-line'><span class='word-red'>class </span>CreateMessages < <span class='word-green'>ActiveRecord::Migration</span></span>
<span class='code-line'>  <span class='word-red'>def </span><span class='word-green'>change</span></span>
<span class='code-line'>    create_table <span class='word-purple'>:messages</span><span class='word-red'> do</span> |t|</span>
<span class='code-line'></span>
<span class='code-line remarkable-code'>      t.text        <span class='word-purple'>:content</span></span>
<span class='code-line remarkable-code'>      t.integer    <span class='word-purple'>:user_id</span></span>
<span class='code-line remarkable-code'>      t.integer    <span class='word-purple'>:receiver</span></span>
<span class='code-line'></span>
<span class='code-line'>      t.timestamps <span class='word-purple'>null:</span> <span class="word-purple">false</span></span>
<span class='code-line'>    <span class='word-red'>end</span></span>
<span class='code-line'>  <span class='word-red'>end</span></span>
<span class='code-line'><span class='word-red'>end</span></span>
</td>
</tr>
</table>
  <br>
  這個設定在作<strong>放長的文章的「<u>content</u>」，放數字的「<u>user_id</u>」，放數字的「<u>receiver</u>」</strong>。
  <br><br>
  設定好了之後，作設定內容的資料庫吧！
  <br>
  在terminal打入下面的命令吧。
  <br><br>
  <strong>terminal</strong>
  <br>
  <small>
    <i class="fa fa-windows color-blue"></i>　使用Windows的話，用「命令提示符」吧。
  </small>
<table class='highlight'>
<tr>
<td class='code-line-no text-center'>1
</td>
<td class='code-content'><span class='code-line'>rake db:migrate</span>
</td>
</tr>
</table>
  <br>
  <small>
    <i class="fa fa-arrow-right"></i>　不動的話，在前面<strong>「bundle exec」</strong>追加，打入<strong>「bundle exec rake db:migrate」</strong>吧。
  </small>
  <br><br>
  <strong><u>這樣子「messages」資料庫作好了！</u></strong>
  <hr class="red-hr">
  作完這裡，<strong><u>用 Sequel Pro / SqliteBrower 看看「messages」資料庫的內容吧</u></strong>！
  <br>
  <small>※　打開Sequel Pro的方法<a href="/zh-TW/mugcups/how_to_open#title3" target="_blank"><strong>請參考這裡</strong></a>，打開SqliteBrowser的方法<a href="/zh-TW/mugcups/how_to_open#title4" target="_blank"><strong>請參考這裡</strong></a>。</small>
  <%= link_to image_tag("https://s3-ap-northeast-1.amazonaws.com/coffee-cup/images/coffee2/Sequel_Pro_messages_database.png",
                        :width => "90%",
                        :class => "hover_img textbook-title-img"),
              "https://s3-ap-northeast-1.amazonaws.com/coffee-cup/images/coffee2/Sequel_Pro_messages_database.png",
              :target => ["_blank"] %>
  <strong>這樣做好資料庫的設定了，接着做網頁的設定吧！</strong>
  <br><br>
  <strong>設定的內容<a href="/zh-TW/codes/c_2#title1-1" target="_blank">請參考這裡</a>。</strong>
</h4>