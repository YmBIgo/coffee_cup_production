<h4 id="chapter5-1-2-1">
         <p id="title1-2-1"><i class="fa fa-check-square color-red"></i>　<strong>　⑴ : 設定網頁</strong></p>
         <br>
         <i class="fa fa-play-circle"></i><strong>　剛開始從「七個網頁的設定」開始做吧！</strong>
         <br><br>
         打開看看<strong>「<u>config</u>」</strong>文件裡的，設定七個網頁的<strong>「<u>routes.rb</u>」</strong>文件吧。
                 <br><br>
        <i class="fa fa-file color-red"></i>　<strong>routes.rb（第3行）</strong>
<table class='highlight'>
<tr>
<td class='code-line-no text-center'>1
2
3
4
5
6
7
8
9
...
57
58
</td>
<td class='code-content'><span class='code-line'><span class='word-blue'>Rails</span>.application.routes.draw<span class='word-red'> do</span></span>
<span class='code-line'></span>
<span class='code-line'>  resources <span class='word-purple'>:posts</span> , <span class='word-purple'>:only</span> => [<span class='word-purple'>:show</span>, <span class='word-purple remarkable-code'>:index</span>, <span class='word-purple'>:new</span>, <span class='word-purple'>:create</span>, <span class='word-purple'>:edit</span>, <span class='word-purple'>:update</span>, <span class='word-purple'>:destroy</span>]</span>
<span class='code-line'>  <span class='word-gray'># The priority is based upon order of creation: first created -> highest priority.</span></span>
<span class='code-line'>  <span class='word-gray'># See how all your routes lay out with "rake routes".</span></span>
<span class='code-line'></span>
<span class='code-line'>  <span class='word-gray'># You can have the root of your site routed with "root"</span></span>
<span class='code-line'>  <span class='word-gray'># root 'welcome#index'</span></span>
<span class='code-line'></span>
<span class='code-line'>  <span class='word-gray'># 省略</span></span>
<span class='code-line'></span>
<span class='code-line'><span class='word-red'>end</span></span>
</td>
</tr>
</table>
        <br>
        內容已經編輯過了吧。
        <br><br>
        <strong><u>跟上面一樣追加「index」</u></strong>了嗎？
        <br>
        這樣子設定，要使用<strong>「<u>顯示全部的資料（index）</u>」</strong>的網頁。
        <hr class="red-hr">
        <i class="fa fa-play-circle"></i><strong>　咱們設定「操作資料」的內容吧。</strong>
        <br><br>
        「posts」資料庫的資料，要設定在<strong>「<u>posts_controller.rb</u>」</strong>文件裡。
        <br><br>
        首先，用Sublime Text打開<strong>「<u>app > controllers</u>」</strong>文件夾裡的<strong>「<u>posts_controller.rb</u>」</strong>文件吧。
        <br><br>
        <small>
          ※　使用Sublime Text打開文件的方法<a href="/zh-TW/mugcups/how_to_open#title1" target="_blank"><strong>請參考這裡</strong></a>
          <br>
          <i class="fa fa-windows color-blue"></i>　使用Windows的Sublime Text打開文件文件夾的方法<a href="/zh-TW/mugcups/how_to_open#title2" target="_blank"><strong>請參考這裡</strong></a>。
        </small>
        <br><br>
        打開後，在<strong><u>「def index」跟「end」之間</u></strong>設定下面的內容。
        <br><br>
        <i class="fa fa-file color-red"></i>　<strong>posts_controller.rb（追加第8行）</strong>
        <br>
        <small>
          ※　<strong><u>用半母字母數字打入</u></strong>。一起點擊<strong><u>「Command」跟「s」</u></strong>可以保存內容。
          <br>
          <i class="fa fa-windows color-blue"></i>　使用Windows的話，點擊<strong><u>「ctrl」跟「s」</u></strong>可以保存內容。
        </small>
        <br><br>
<table class='highlight'>
<tr>
<td class='code-line-no text-center'>7
8
9
</td>
<td class='code-content'><span class='code-line'>  <span class='word-red'>def </span><span class='word-green'>index</span></span>
<span class='code-line remarkable-code'>    @posts <span class="word-red">=</span> <span class='word-blue'>Post</span>.all</span>
<span class='code-line'>  <span class='word-red'>end</span></span>
</td>
</tr>
</table>
        <br>
        <strong>用「<u>Post.all</u>」，選擇posts資料庫裡的全部的資料。</strong>
        <br>
        <small>※　使用「<a href="/zh-TW/mugcups/4#title2" target="_blank"><strong><i>rails c</i></strong></a>」確認打入的內容吧。</small>
        <br><br>
        <strong>在這裡的標記「<u>@posts</u>」使用複數。</strong>
        <br>
        這是應為要用顯示<u>全部的資料的標記</u>，所以在這裡使用<u>複數的名字</u>。等下自己看的時候可以理解的話，名字用什麼也沒關係。
        <br><br>
        <strong class="little-remarkable">在「index」操作資料的方法是，用「資料庫的名字.all」選擇全部的資料之後，設定標記。</strong>
        <br><br>
        <i class="fa fa-question-circle color-green"></i>　設定<strong><u>從tweets資料庫選擇全部的資料</u>的資料的操作吧。</strong>
        <br><br>
        <input type="input" class="form-control input-code" placeholder="打入答案">
        <br>
<table class='highlight'>
<tr>
<td class='code-line-no text-center'>1
</td>
<td class='code-content answer-code'><span class='code-line'>@tweets <span class="word-red">=</span> <span class="word-blue">Tweet</span>.all</span>
</td>
</tr>
</table>
        <hr class="red-hr">
        <i class="fa fa-play-circle"></i><strong>　那麽設定網頁的內容吧。</strong>
        <br><br>
        剛開始，用Sublime Text打開<strong>「<u>myapp</u>」</strong>文件夾之後，打開<strong>「<u>app > views > posts</u>」</strong>文件夾吧。
        <br><br>
        <small>
          ※　使用Sublime Text打開文件的方法<a href="/zh-TW/mugcups/how_to_open#title1" target="_blank"><strong>請參考這裡</strong></a>
          <br>
          <i class="fa fa-windows color-blue"></i>　使用Windows的Sublime Text打開文件文件夾的方法<a href="/zh-TW/mugcups/how_to_open#title2" target="_blank"><strong>請參考這裡</strong></a>。
        </small>
        <br><br>
        裡面有沒有<strong>「<u>index.html.erb</u>」</strong>文件嗎？如果有的話，開開看吧！
        <br>
        <strong>在這個文件上，設定顯示「選擇全部的資料（index）」的網頁。</strong>
        <br><br>
        <i class="fa fa-question-circle color-green"></i>　<strong>那麽剛開始，複習學習的內容吧。</strong>
        <%= link_to image_tag("https://s3-ap-northeast-1.amazonaws.com/coffee-cup/images/page5/Chrome_posts_all_1.png",
                              :width => "90%",
                              :class => "hover_img textbook-title-img"),
                    "https://s3-ap-northeast-1.amazonaws.com/coffee-cup/images/page5/Chrome_posts_all_1.png",
                    :target => ["_blank"] %>
        <strong>
        像上面的圖像的畫面，設定「index.html.erb」文件吧。
        </strong>
        <br>
        <small>※　線用&lt;hr&gt;設定。</small>
        <br><br>
        <textarea class="form-control input-code" placeholder="打入答案" rows="3"></textarea>
        <br>
        <i class="fa fa-file color-red"></i>　<strong>index.html.erb</strong>
        <br>
        <small>
          ※　<strong><u>用半母字母數字打入</u></strong>。一起點擊<strong><u>「Command」跟「s」</u></strong>可以保存內容。
          <br>
          <i class="fa fa-windows color-blue"></i>　使用Windows的話，點擊<strong><u>「ctrl」跟「s」</u></strong>可以保存內容。
        </small>
        <br><br>
<table class='highlight'>
<tr>
<td class='code-line-no text-center'>1
2
</td>
<td class='code-content answer-code'><span class='code-line'>&lt;<span class='word-red'>h1</span>&gt;投稿一覽&lt;/<span class='word-red'>h1</span>&gt;</span>
<span class='code-line'>&lt;<span class='word-red'>hr</span>&gt;</span>
</td>
</tr>
</table>
        <hr class="red-hr">
        做完了之後，用terminal移動到<strong>「<u>myapp</u>」</strong>，之後打入<strong>「<i>rails s</i>」</strong>吧。
        <br><br>
        在terminal上打入「rails s」起動服務器之後，用瀏覽器打開「<a href="http://0.0.0.0:3000/posts" target="_blank"><strong>0.0.0.0:3000/posts</strong></a>」吧。
        <br>
        <small>
        <i class="fa fa-windows color-blue"></i>　使用Window的話，打開看<strong>「<a href="http://localhost:3000/posts" target="_blank">localhost:3000/posts</a>」</strong>吧。
        </small>
        <br><br>
        顯示下面圖像一樣子的網頁嗎？
        <%= link_to image_tag("https://s3-ap-northeast-1.amazonaws.com/coffee-cup/images/page5/Chrome_posts_all_1.png",
                              :width => "90%",
                              :class => "hover_img textbook-title-img"),
                    "https://s3-ap-northeast-1.amazonaws.com/coffee-cup/images/page5/Chrome_posts_all_1.png",
                    :target => ["_blank"] %>
        <hr class="red-hr">
        在這裡，作作看下面圖像一樣子的<strong><u>像SNS的網頁</u></strong>吧！
        <%= link_to image_tag("https://s3-ap-northeast-1.amazonaws.com/coffee-cup/images/page5/Chrome_posts_all_2.png",
                              :width => "90%",
                              :class => "hover_img textbook-title-img"),
                    "https://s3-ap-northeast-1.amazonaws.com/coffee-cup/images/page5/Chrome_posts_all_2.png",
                    :target => ["_blank"] %>
        <hr class="red-hr">
        那麽，編輯<strong>「<u>index.html.erb</u>」</strong>文件吧。打入下面的內容。
        <br><br>
        <i class="fa fa-file color-red"></i>　<strong>index.html.erb（編輯第3〜7行）</strong>
        <br>
        <small>
          ※　<strong><u>用半母字母數字打入</u></strong>。一起點擊<strong><u>「Command」跟「s」</u></strong>可以保存內容。
          <br>
          <i class="fa fa-windows color-blue"></i>　使用Windows的話，點擊<strong><u>「ctrl」跟「s」</u></strong>可以保存內容。
        </small>
        <br><br>
<table class='highlight'>
<tr>
<td class='code-line-no text-center'>1
2
3
4
5
6
7
8
</td>
<td class='code-content'><span class='code-line'>&lt;<span class='word-red'>h1</span>&gt;投稿一覽&lt;/<span class='word-red'>h1</span>&gt;</span>
<span class='code-line'>&lt;<span class='word-red'>hr</span>&gt;</span>
<span class='code-line remarkable-code'>&lt;% @posts.each <span class="word-red">do </span>|p| %&gt;</span>
<span class='code-line remarkable-code'>  &lt;<span class='word-red'>p</span>&gt;&lt;%= p.id %&gt;&lt;/<span class='word-red'>p</span>&gt;</span>
<span class='code-line remarkable-code'>  &lt;<span class='word-red'>p</span>&gt;&lt;%= p.name %&gt;&lt;/<span class='word-red'>p</span>&gt;</span>
<span class='code-line remarkable-code'>  &lt;<span class='word-red'>p</span>&gt;&lt;%= p.content %&gt;&lt;/<span class='word-red'>p</span>&gt;</span>
<span class='code-line remarkable-code'>  &lt;<span class='word-red'>hr</span>&gt;</span>
<span class='code-line remarkable-code'>&lt;% <span class="word-red">end</span> %&gt;</span>
</td>
</tr>
</table>
        <br>
        <strong><u>一起點擊「Command」跟「c」</u>停止，用「<u>rails s</u>」打開的服務器之後，再打入<u>「rails s」</u>吧。</strong>
        <br>
        <u>這樣編輯好的內容會適用在網頁上。</u>
        <br><br><br>
        <p class="alert alert-success">
          <i class="fa fa-windows color-blue"></i>　<strong>使用Windows的話、
          <br>
          　<u>一起點擊「ctrl」跟「c」</u>停止，用「<u>rails s</u>」打開的服務器之後，再打入<u>「rails s」</u>吧。</strong>
        </p>
        <br>
        <i class="fa fa-arrow-right"></i>　如果設定的內容沒有顯示在網頁上的時候，<strong><u>一起點擊「Command」跟「c」</u>停止用「<u>rails s</u>」打開的服務器之後，再打入<u>「rails s」</u>吧。</strong>
        <br><br>
        設定好了之後，用瀏覽器打開「<a href="http://0.0.0.0:3000/posts" target="_blank"><strong>0.0.0.0:3000/posts</strong></a>」。
        <br>
        <small>
        <i class="fa fa-windows color-blue"></i>　使用Windows的話，打開「<a href="http://localhost:3000/posts" target="_blank"><strong>localhost:3000/posts</strong></a>」。
        </small>
        <%= link_to image_tag("https://s3-ap-northeast-1.amazonaws.com/coffee-cup/images/page5/Chrome_posts_all_2.png",
                              :width => "90%",
                              :class => "hover_img textbook-title-img"),
                    "https://s3-ap-northeast-1.amazonaws.com/coffee-cup/images/page5/Chrome_posts_all_2.png",
                    :target => ["_blank"] %>
        有沒有顯示上面一樣子的<strong><u>像SNS主頁的網頁</u></strong>嗎？
        <hr class="red-hr">
        那麽，解釋剛才的設定在做什麼。
        <br><br>
        <i class="fa fa-file color-red"></i>　<strong>index.html.erb</strong>
<table class='highlight'>
<tr>
<td class='code-line-no text-center'>1
2
3
4
5
6
7
8
</td>
<td class='code-content'><span class='code-line'>&lt;<span class='word-red'>h1</span>&gt;投稿一覽&lt;/<span class='word-red'>h1</span>&gt;</span>
<span class='code-line'>&lt;<span class='word-red'>hr</span>&gt;</span>
<span class='code-line remarkable-code'>&lt;% @posts.each <span class="word-red">do </span>|p| %&gt;</span>
<span class='code-line remarkable-code'>  &lt;<span class='word-red'>p</span>&gt;&lt;%= p.id %&gt;&lt;/<span class='word-red'>p</span>&gt;</span>
<span class='code-line remarkable-code'>  &lt;<span class='word-red'>p</span>&gt;&lt;%= p.name %&gt;&lt;/<span class='word-red'>p</span>&gt;</span>
<span class='code-line remarkable-code'>  &lt;<span class='word-red'>p</span>&gt;&lt;%= p.content %&gt;&lt;/<span class='word-red'>p</span>&gt;</span>
<span class='code-line remarkable-code'>  &lt;<span class='word-red'>hr</span>&gt;</span>
<span class='code-line remarkable-code'>&lt;% <span class="word-red">end</span> %&gt;</span>
</td>
</tr>
</table>
        <br>
        可不可以推測，在這裡
        <br><br>
<table class='highlight'>
<tr>
<td class='code-line-no text-center'>1
2
3
4
</td>
<td class='code-content'><span class='code-line'>  &lt;<span class='word-red'>p</span>&gt;&lt;%= p.id %&gt;&lt;/<span class='word-red'>p</span>&gt;</span>
<span class='code-line'>  &lt;<span class='word-red'>p</span>&gt;&lt;%= p.name %&gt;&lt;/<span class='word-red'>p</span>&gt;</span>
<span class='code-line'>  &lt;<span class='word-red'>p</span>&gt;&lt;%= p.content %&gt;&lt;/<span class='word-red'>p</span>&gt;</span>
<span class='code-line'>  &lt;<span class='word-red'>hr</span>&gt;</span>
</td>
</tr>
</table>
        <br>
        <strong><u>反覆顯示這裡的內容嗎？</u></strong>
        <br>
        在裡面的
        <br><br>
<table class='highlight'>
<tr>
<td class='code-line-no text-center'>1
</td>
<td class='code-content'><span class='code-line'>  &lt;%= p.name %&gt;</span>
</td>
</tr>
</table>
        <br>
        顯示<u>名字，<strong>id</strong>顯示號碼，<strong>content</strong>顯示投稿的內容。</u>
        <hr class="red-hr">
        那麽<strong>第3行到第7行</strong>是在做什麼呢？
        <br><br>
        <i class="fa fa-file color-red"></i>　<strong>index.html.erb</strong>
<table class='highlight'>
<tr>
<td class='code-line-no text-center'>1
2
3
4
5
6
7
8
</td>
<td class='code-content'><span class='code-line'>&lt;<span class='word-red'>h1</span>&gt;投稿一覽&lt;/<span class='word-red'>h1</span>&gt;</span>
<span class='code-line'>&lt;<span class='word-red'>hr</span>&gt;</span>
<span class='code-line remarkable-code'>&lt;% @posts.each <span class="word-red">do </span>|p| %&gt;</span>
<span class='code-line'>  &lt;<span class='word-red'>p</span>&gt;&lt;%= p.id %&gt;&lt;/<span class='word-red'>p</span>&gt;</span>
<span class='code-line'>  &lt;<span class='word-red'>p</span>&gt;&lt;%= p.name %&gt;&lt;/<span class='word-red'>p</span>&gt;</span>
<span class='code-line'>  &lt;<span class='word-red'>p</span>&gt;&lt;%= p.content %&gt;&lt;/<span class='word-red'>p</span>&gt;</span>
<span class='code-line'>  &lt;<span class='word-red'>hr</span>&gt;</span>
<span class='code-line remarkable-code'>&lt;% <span class="word-red">end</span> %&gt;</span>
</td>
</tr>
</table>
        <br>
        在這個第三行，
        <br>
        <strong>吧「<u>Post.all</u>」選擇的資料「<u>@posts</u>」（下面的「<i>posts_controller.rb</i>」）分成一個一個的資料（<u>p</u>）之後，反覆顯示分成一個一個的內容。</strong>
        <br><br>
        <i class="fa fa-file color-red"></i><strong>　posts_controller.rb</strong>
<table class='highlight'>
<tr>
<td class='code-line-no text-center'>1
2
3
</td>
<td class='code-content'><span class='code-line'>  <span class='word-red'>def </span><span class='word-green'>index</span></span>
<span class='code-line remarkable-code'>    @posts <span class="word-red">=</span> <span class='word-blue'>Post</span>.all</span>
<span class='code-line'>  <span class='word-red'>end</span></span>
</td>
</tr>
</table>
        <br>
        從<strong>「<u>&lt;% @posts.each.do |p| %&gt;</u>」</strong>到<strong>「<u>&lt;% end %&gt;</u>」</strong>的地方會反覆顯示。
        <br><br>
        然後<strong>在各個反覆中的「p」裡代入各個資料。然後用這個資料「p」顯示資料。</strong>
        <br>
        <small>※　這個「p」的名字是用什麼都可以，<strong><u>在這裡用「post」的第一字「p」。</u></strong>名字用什麼都可以。</small>
        <hr class="red-hr">
        說明設定的方法吧。
        <br>
        <strong>像「<u>Post.all</u>」一樣裡面包括複數資料的時候、必須吧這個資料分成一個一個的資料。</strong>
        <br><br>
        <i class="fa fa-play-circle"></i>　<strong><u>這樣子的複數的資料</u></strong>要用，
<pre>
&lt;% @設定的標記.each do |喜歡的名字| %&gt;
</pre>
        <strong><u>分成一個一個的資料。</u></strong>
        <br>
        <small>※　是「&lt;%」不是「&lt;%=」，要注意。</small>
        <br><br>
        <i class="fa fa-play-circle"></i>　到
<pre>
&lt;% end %&gt;
</pre>
        的地方<strong><u>分成的資料會反覆顯示</u></strong>。
        <br>
        <small>※　這裡也是「&lt;%」不是「&lt;%=」，要注意。</small>
        <br><br>
        <i class="fa fa-play-circle"></i>　<strong><u>裡面的資料</u></strong>是，跟<strong>「<a href="/zh-TW/mugcups/5#title1-1" target="_blank">顯示一個資料（show）</a>」</strong>一樣用
<pre>
&lt;%= 設定的名字.框子的名字 %&gt;
</pre>
        顯示內容。
        <br><br>
        <small>※　在上章解釋的「where」也可以用這個方法顯示。用搜索的時候也會出現複數的資料。</small>
        <hr class="red-hr">
        <i class="fa fa-question-circle color-green"></i>　<strong>那麽在「顯示全部的資料(index)」的網頁裡追加「<u>作資料的時間</u>」的內容要這麼設定呢？</strong>
        <br>
        <small>※　裡面放作資料的框子是<strong>「created_at」</strong>。</small>
        <br><br>
        <input type="input" class="form-control input-code" placeholder="打入答案">
        <br>
<table class='highlight'>
<tr>
<td class='code-line-no text-center'>1
</td>
<td class='code-content answer-code'><span class='code-line'>  &lt;<span class='word-red'>p</span>&gt;&lt;%= p.created_at %&gt;&lt;/<span class='word-red'>p</span>&gt;</span>
</td>
</tr>
</table>
        <hr class="red-hr">
        <i class="fa fa-question-circle color-green"></i>　<strong>做下面一樣子的資料操作的時候，設定看顯示「<u>@messages</u>」的，<u>寄件者「name」</u>跟<u>收件者「send_to」</u>跟<u>内容「content」</u>的網頁。</strong>
        <br><br>
        <i class="fa fa-file color-red"></i>　<strong>messages_controller.rb</strong>
<table class='highlight'>
<tr>
<td class='code-line-no text-center'>1
2
3
</td>
<td class='code-content'><span class='code-line'>  <span class='word-red'>def </span><span class='word-green'>index</span></span>
<span class='code-line'>    @messages <span class="word-red">=</span> <span class='word-blue'>Message</span>.all</span>
<span class='code-line'>  <span class='word-red'>end</span></span>
</td>
</tr>
</table>
        <br>
        <textarea class="form-control input-code" rows="9" placeholder="打入答案"></textarea>
        <br>
        <i class="fa fa-file color-red"></i>　<strong>index.html.erb（答案的例子）</strong>
<table class='highlight'>
<tr>
<td class='code-line-no text-center'>1
2
3
4
5
6
7
8
</td>
<td class='code-content answer-code'><span class='code-line'>&lt;<span class='word-red'>h1</span>&gt;message一覽&lt;/<span class='word-red'>h1</span>&gt;</span>
<span class='code-line'>&lt;<span class='word-red'>hr</span>&gt;</span>
<span class='code-line'>&lt;% @messages.each <span class="word-red">do</span> |m| %&gt;</span>
<span class='code-line'>  &lt;<span class='word-red'>p</span>寄件者：&gt;&lt;%= m.name %&gt;&lt;/<span class='word-red'>p</span>&gt;</span>
<span class='code-line'>  &lt;<span class='word-red'>p</span>收件者：&gt;&lt;%= m.send_to %&gt;&lt;/<span class='word-red'>p</span>&gt;</span>
<span class='code-line'>  &lt;<span class='word-red'>p</span>內容：&gt;&lt;%= m.content %&gt;&lt;/<span class='word-red'>p</span>&gt;</span>
<span class='code-line'>  &lt;<span class='word-red'>hr</span>&gt;</span>
<span class='code-line'>&lt;% <span class="word-red">end</span> %&gt;</span>
</td>
</tr>
</table>
        <hr class="red-hr">
        <i class="fa fa-play-circle color-red"></i>　雖然已經打開過了，但是解釋用瀏覽器打開網頁的方法。
        <br><br>
        在瀏覽器打開<strong>「<u>0.0.0.0:3000/資料庫的名字</u>」</strong>的話，可以打開<strong>「<u>顯示全部的資料（index）</u>」</strong>的網頁。
        <br>
        這一次是顯示「posts」資料庫裡全部的內容的網頁，所以打入
        <br><br>
        <i class="fa fa-chrome color-red"></i><strong>　瀏覽器</strong>
<table class='highlight'>
<tr>
<td class='code-line-no text-center'>1
</td>
<td class='code-content'><span class='code-line small-code'>0.0.0.0:3000/posts</span>
</td>
</tr>
</table>
        <br>
        打開網頁。
        <br><br>
        <i class="fa fa-question-circle color-green"></i><strong>　打開顯示全部的「tweets」資料的網頁要這麼打開？</strong>
        <br><br>
        <input type="input" class="form-control input-code" placeholder="打入答案">
        <br>
        <i class="fa fa-chrome color-red"></i><strong>　瀏覽器</strong>
<table class='highlight'>
<tr>
<td class='code-line-no text-center'>1
</td>
<td class='code-content answer-code'><span class='code-line small-code'>0.0.0.0:3000/tweets</span>
</td>
</tr>
</table>
</h4>